[build]
builder = "nixpacks"

[deploy]
startCommand = "gunicorn -w 4 -k uvicorn.workers.UvicornWorker --bind 0.0.0.0:$PORT backend.main:app --timeout 120 --access-logfile - --error-logfile -"
healthcheckPath = "/system/health"
healthcheckTimeout = 60
healthcheckInterval = 5

[environment]
PYTHONUNBUFFERED = "true"
ENVIRONMENT = "production"
