# Force both Python and Node.js providers
[providers]
python = { enabled = true }
nodejs = { enabled = true }

# Override default phases to ensure pip install runs
[phases.setup]

[phases.install]
# First install Python dependencies, then Node.js
cmds = [
  "pip install --upgrade pip setuptools wheel",
  "pip install --no-cache-dir -r requirements.txt",
  "npm i"
]

[phases.build]
cmds = ["npm run build"]
